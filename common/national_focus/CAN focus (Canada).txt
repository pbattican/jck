###########################
# Canada Focus Tree
###########################

focus_tree = {
	id = canada_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CAN
		}
	}
	default = no
	continuous_focus_position = { x = 3400 y = 1000 }

	### POLITICAL

	focus = {
		id = CAN_kings_speech
		icon = GFX_focus_eng_god_save_the_king
		cost = 4
		x = 3
		y = 0

		available = {
			ENT_king_edward_viii = yes
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_kings_speech"
			country_event = canada.6
		}
	}

	focus = {
		id = CAN_privy_council
		icon = GFX_goal_generic_civilian_oversight
		cost = 5
		prerequisite = {
			focus = CAN_kings_speech
		}
		relative_position_id = CAN_kings_speech
		x = -2
		y = 1

		available = {
			has_elected_government = yes
			has_country_flag = KR_british_king_base
		}

		ai_will_do = { factor = 200 }

		available_if_capitulated = yes

		bypass = {
			OR = {
				NOT = { has_country_flag = KR_british_king_base }
				has_elected_government = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_privy_council"
			country_event = canada.8
		}
	}

	focus = {
		id = CAN_imperial_conference
		icon = GFX_focus_chi_british_cooperation
		cost = 5
		prerequisite = {
			focus = CAN_kings_speech
		}
		relative_position_id = CAN_kings_speech
		x = 0
		y = 1

		available = {
			is_faction_leader = yes
			NOT = { country_exists = GBR }
		}

		ai_will_do = { factor = 200 }

		available_if_capitulated = yes

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus CAN_imperial_conference"
			every_country = {
				limit = {
					NOT = { tag = ROOT }
					CAN_is_commonwealth_tag = yes
					is_in_faction_with = ROOT
				}
				country_event = entente.200
			}
		}

		bypass = {
			OR = {
				is_faction_leader = no
				country_exists = GBR
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_imperial_conference"
			country_event = entente.201
		}
	}

	focus = {
		id = CAN_fate_of_the_senate
		icon = GFX_GRE_empower_monarchy
		cost = 5
		prerequisite = {
			focus = CAN_kings_speech
		}
		relative_position_id = CAN_kings_speech
		x = 2
		y = 1

		available = {
			has_elected_government = yes
			has_country_flag = KR_british_king_base
		}

		ai_will_do = { factor = 200 }

		available_if_capitulated = yes

		bypass = {
			OR = {
				NOT = { has_country_flag = KR_british_king_base }
				has_elected_government = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_fate_of_the_senate"
			country_event = canada.9
		}
	}

	focus = {
		id = CAN_draft_bill_c7
		icon = GFX_goal_CAN_parliament
		cost = 10
		prerequisite = {
			focus = CAN_privy_council
		}
		prerequisite = {
			focus = CAN_imperial_conference
		}
		prerequisite = {
			focus = CAN_fate_of_the_senate
		}
		relative_position_id = CAN_kings_speech
		x = 0
		y = 2

		available = {
			is_faction_leader = yes
			has_country_flag = CAN_had_1936_election
			controls_all_owned_states = yes
			has_right_democratic_government = yes
		}

		ai_will_do = { factor = 200 }

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus CAN_draft_bill_c7"
			country_event = { id = canada.52 days = 1 } #Debate begins
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_draft_bill_c7"
			country_event = canada.58 #Voting begins
		}
	}

	### QUEBEC
	focus = {
		id = CAN_quebec_in_flames
		icon = GFX_goal_CAN_quebec_flames
		cost = 0
		relative_position_id = CAN_kings_speech
		x = 0
		y = 4

		available = {
			hidden_trigger = { always = no }
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		bypass = {
			has_idea = CAN_quebec_in_flames_idea
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_quebec_in_flames"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = CAN_montreal_conference
		icon = GFX_goal_tfv_can_compromise_with_quebec
		cost = 6
		prerequisite = {
			focus = CAN_quebec_in_flames
		}
		mutually_exclusive = {
			focus = CAN_suppress_quebecois
		}
		mutually_exclusive = {
			focus = CAN_war_measures_act
		}
		relative_position_id = CAN_quebec_in_flames
		x = -2
		y = 1

		available = {
			has_idea = CAN_quebec_in_flames_idea
			832 = { is_owned_and_controlled_by = CAN } #Quebec
			has_liberal_government = yes
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.5
				GBR_henry_page_croft = { is_political_advisor = yes }
			}
			modifier = {
				factor = 1.2
				GBR_anthony_eden = { is_political_advisor = yes }
			}
			modifier = {
				factor = 1.5
				GBR_robert_gascoyne_cecil = { is_political_advisor = yes }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_montreal_conference"
			country_event = canada.104
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CAN_maurice_le_noblet_duplessis
		}
	}

	focus = {
		id = CAN_official_bilingualism
		icon = GFX_goal_CAN_bilingual
		cost = 6
		prerequisite = {
			focus = CAN_montreal_conference
		}
		relative_position_id = CAN_montreal_conference
		x = 0
		y = 1

		available = {
			OR = {
				has_idea = CAN_quebec_in_flames_idea
				if = {
					limit = { has_idea = CAN_anglo_french_tensions_1 }
					has_idea = CAN_anglo_french_tensions_1
				}
				else_if = {
					limit = { has_idea = CAN_anglo_french_tensions_2 }
					has_idea = CAN_anglo_french_tensions_2
				}
				else = {
					has_idea = CAN_anglo_french_tensions_3
				}
			}
			832 = { is_owned_and_controlled_by = CAN } #Quebec
			has_liberal_government = yes
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.5
				OR = {
					NOT = { has_idea = CAN_quebec_in_flames_idea }
					has_war = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_official_bilingualism"
			add_political_power = -100
			CAN_improve_french_tensions_idea = yes
			every_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
						has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
						has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
					}
				}
				custom_effect_tooltip = CAN_resistance_effects_reduced
				CAN_reduce_french_resistance = yes
			}
		}
	}

	focus = {
		id = CAN_new_quebec_status
		icon = GFX_goal_CAN_new_status_quebec
		cost = 6
		prerequisite = {
			focus = CAN_official_bilingualism
		}
		relative_position_id = CAN_official_bilingualism
		x = 0
		y = 1

		available = {
			832 = { is_owned_and_controlled_by = CAN } #Quebec
			has_liberal_government = yes
		}

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_quebec_status"
			add_political_power = -100
			set_temp_variable = { ideology_change_var = -0.1 }
			change_ruling_party_popularity = yes
			CAN_improve_french_tensions_idea = yes
			every_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
						has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
						has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
					}
				}
				custom_effect_tooltip = CAN_resistance_effects_reduced
				CAN_reduce_french_resistance = yes
			}
			country_event = canada.105
		}
	}

	focus = {
		id = CAN_suppress_quebecois
		icon = GFX_goal_CAN_suppress_quebec
		cost = 6
		prerequisite = {
			focus = CAN_quebec_in_flames
		}
		mutually_exclusive = {
			focus = CAN_montreal_conference
		}
		mutually_exclusive = {
			focus = CAN_war_measures_act
		}
		relative_position_id = CAN_quebec_in_flames
		x = 0
		y = 1

		available = {
			832 = { is_owned_and_controlled_by = CAN } #Quebec
			has_idea = CAN_quebec_in_flames_idea
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = CAN_path option = CAN_PATH_AUTDEM }
			}
			modifier = {
				factor = 2
				has_game_rule = { rule = CAN_path option = CAN_PATH_SOCCON }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_suppress_quebecois"
			country_event = canada.106
		}
	}

	focus = {
		id = CAN_promote_anglophones
		icon = GFX_goal_CAN_empower_the_anglophones
		cost = 6
		prerequisite = {
			focus = CAN_suppress_quebecois
		}
		relative_position_id = CAN_suppress_quebecois
		x = 0
		y = 1

		available = {
			832 = { is_owned_and_controlled_by = CAN } #Quebec
			OR = {
				has_idea = CAN_quebec_in_flames_idea
				if = {
					limit = { has_idea = CAN_anglo_french_tensions_1 }
					has_idea = CAN_anglo_french_tensions_1
				}
				else_if = {
					limit = { has_idea = CAN_anglo_french_tensions_2 }
					has_idea = CAN_anglo_french_tensions_2
				}
				else = {
					has_idea = CAN_anglo_french_tensions_3
				}
			}
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.5
				OR = {
					NOT = { has_idea = CAN_quebec_in_flames_idea }
					has_war = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_promote_anglophones"
			country_event = canada.107
		}
	}

	focus = {
		id = CAN_surete_du_quebec
		icon = GFX_goal_CAN_surete_quebec
		cost = 6
		prerequisite = {
			focus = CAN_promote_anglophones
		}
		relative_position_id = CAN_promote_anglophones
		x = 0
		y = 1

		available = {
			832 = { is_owned_and_controlled_by = CAN } #Quebec
			NOT = { has_idea = CAN_quebec_in_flames_idea }
			if = {
				limit = { has_idea = CAN_anglo_french_tensions_1 }
				has_idea = CAN_anglo_french_tensions_1
			}
			else_if = {
				limit = { has_idea = CAN_anglo_french_tensions_2 }
				has_idea = CAN_anglo_french_tensions_2
			}
			else = {
				has_idea = CAN_anglo_french_tensions_3
			}
		}

		ai_will_do = { factor = 10 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_surete_du_quebec"
			add_stability = 0.05
			CAN_improve_french_tensions_idea = yes
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CAN_war_measures_act
		icon = GFX_goal_Centralised_Government
		cost = 6
		prerequisite = {
			focus = CAN_quebec_in_flames
		}
		mutually_exclusive = {
			focus = CAN_montreal_conference
		}
		mutually_exclusive = {
			focus = CAN_suppress_quebecois
		}
		relative_position_id = CAN_quebec_in_flames
		x = 2
		y = 1

		available = {
			has_idea = CAN_quebec_in_flames_idea
			has_government = social_conservative
			has_country_flag = KR_british_king_base
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 1.5
				GBR_henry_page_croft = { is_political_advisor = yes }
			}
			modifier = {
				factor = 0.8
				GBR_anthony_eden = { is_political_advisor = yes }
			}
			modifier = {
				factor = 0.5
				GBR_robert_gascoyne_cecil = { is_political_advisor = yes }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = CAN_path option = CAN_PATH_SOCCON }
			}
			modifier = {
				factor = 2
				has_game_rule = { rule = CAN_path option = CAN_PATH_AUTDEM }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_war_measures_act"
			CAN_improve_french_tensions_idea = yes
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			country_event = canada.108
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_purge_the_opposition
		icon = GFX_goal_authority
		cost = 6
		prerequisite = {
			focus = CAN_war_measures_act
		}
		relative_position_id = CAN_war_measures_act
		x = 0
		y = 1

		available = {
			has_government = authoritarian_democrat
			has_country_flag = KR_british_king_base
		}

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_game_rule = { rule = CAN_path option = CAN_PATH_AUTDEM }
			}
			modifier = {
				factor = 2
				has_political_power < 0
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_purge_the_opposition"
			CAN_improve_french_tensions_idea = yes
			add_political_power = 100
			add_war_support = 0.10
			add_popularity = { ideology = authoritarian_democrat popularity = 0.10 }
			hidden_effect = {
				country_event = { id = canada.110 days = 5 }
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_assert_royal_prerogatives
		icon = GFX_focus_rom_royal_dictatorship
		cost = 6
		prerequisite = {
			focus = CAN_purge_the_opposition
		}
		relative_position_id = CAN_purge_the_opposition
		x = 0
		y = 1

		available = {
			is_faction_leader = yes
			has_government = authoritarian_democrat
			has_country_flag = KR_british_king_base
			if = {
				limit = {
					has_game_rule = { rule = CAN_path option = CAN_PATH_AUTDEM }
					NOT = {
						has_game_rule = { rule = CAN_king option = CAN_KING_ABDICATES }
						has_game_rule = { rule = CAN_king option = CAN_KING_ALBERT }
						has_game_rule = { rule = CAN_king option = CAN_KING_HENRY }
						has_game_rule = { rule = CAN_king option = CAN_KING_GEORGE }
					}
				}
				authoritarian_democrat > 0.15
			}
			else = {
				authoritarian_democrat > 0.20
				custom_trigger_tooltip = {
					tooltip = CAN_has_very_high_influence
					check_variable = { king_influence > 4 }
				}
			}
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 5
				GBR_henry_page_croft = { is_political_advisor = yes }
			}
			modifier = {
				add = 25
				ENT_king_henry_ix = no
				GBR_robert_gascoyne_cecil = { is_political_advisor = no }
				OR = {
					has_war_with = ENG
					has_war_with = GER
					surrender_progress > 0.10
				}
			}
			modifier = {
				factor = 0.2
				OR = {
					ENT_king_albert_i = yes
					GBR_anthony_eden = { is_political_advisor = yes }
				}
			}
			modifier = {
				add = 50
				has_game_rule = { rule = CAN_path option = CAN_PATH_AUTDEM }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CAN_king option = CAN_KING_ABDICATES }
					has_game_rule = { rule = CAN_king option = CAN_KING_ALBERT }
					has_game_rule = { rule = CAN_king option = CAN_KING_HENRY }
					has_game_rule = { rule = CAN_king option = CAN_KING_GEORGE }
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_assert_royal_prerogatives"
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			country_event = canada.111
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	### ECONOMIC

	focus = {
		id = CAN_crown_corporations
		icon = GFX_focus_generic_industry_3
		prerequisite = {
			focus = CAN_kings_speech
		}
		cost = 5
		x = 10
		y = 1

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_crown_corporations"
			CAN_improve_depression_idea = yes
			add_tech_bonus = {
				name = CAN_crown_corporations
				bonus = 1
				uses = 1
				category = cat_production
				category = concentrated_industry_category
				category = dispersed_industry_category
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 276 decision = CAN_construct_2_civ_decision }
			activate_targeted_decision = { target = 832 decision = CAN_construct_2_civ_decision }
			activate_targeted_decision = { target = 739 decision = CAN_construct_2_mil_decision }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_cn_rail_expansion
		icon = GFX_goal_CAN_cn_rail
		cost = 6
		prerequisite = {
			focus = CAN_crown_corporations
		}
		relative_position_id = CAN_crown_corporations
		x = -2
		y = 1

		available = {
			controls_state = 464 #Nova Scotia
			controls_state = 465 #New Brunswick
			controls_state = 466 #Quebec
			controls_state = 468 #Saint Lawrence
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_cn_rail_expansion"
			build_railway = {
				level = 1
				start_province = 3778 #Ottawa
				target_province = 7361 #Halifax
			}
			every_owned_state = {
				limit = {
					is_controlled_by = CAN
					OR = {
						state = 466 #Quebec
						state = 468 #Saint Lawrence
						state = 465 #New Brunswick
						state = 464 #Nova Scotia
					}
					free_building_slots = { building = infrastructure size > 0 include_locked = yes }
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 464 decision = CAN_construct_1_civ_decision }
			activate_targeted_decision = { target = 468 decision = CAN_construct_1_civ_decision }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_cp_rail_expansion
		icon = GFX_goal_CAN_cp_rail
		cost = 6
		prerequisite = {
			focus = CAN_cn_rail_expansion
		}
		relative_position_id = CAN_crown_corporations
		x = -2
		y = 2

		available = {
			controls_state = 467
			controls_state = 469
			controls_state = 470
			controls_state = 473
			controls_state = 682
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_cp_rail_expansion"
			build_railway = {
				level = 1
				start_province = 3778 #Ottawa
				target_province = 1408 #Vancouver
			}
			every_owned_state = {
				limit = {
					is_controlled_by = CAN
					OR = {
						state = 682 #Northern Ontario
						state = 467 #Manitoba
						state = 469 #Saskatchewan
						state = 470 #Alberta
						state = 473 #British Columbia
					}
					free_building_slots = { building = infrastructure size > 0 include_locked = yes }
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = canadian_pacific
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 470 decision = CAN_construct_1_civ_decision }
			activate_targeted_decision = { target = 473 decision = CAN_construct_1_civ_decision }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_invest_resources
		icon = GFX_all_resource
		cost = 6
		prerequisite = {
			focus = CAN_cp_rail_expansion
		}
		relative_position_id = CAN_crown_corporations
		x = -2
		y = 3

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_invest_resources"
			add_tech_bonus = {
				name = CAN_invest_resources
				bonus = 1
				uses = 1
				category = excavation_tech
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = dominion_steel_and_coal
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 276 decision = CAN_develop_ontario_coal_mines }
			activate_targeted_decision = { target = 470 decision = CAN_develop_alberta_oil_wells }
			activate_targeted_decision = { target = 332 decision = CAN_develop_quebec_tungsten_mines }
			activate_targeted_decision = { target = 465 decision = CAN_develop_newbrun_tungsten_mines }
			activate_targeted_decision = { target = 466 decision = CAN_develop_quebec_aluminium_mines }
			activate_targeted_decision = { target = 682 decision = CAN_develop_ontario_chromium_mines }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_prairie_oil
		icon = GFX_goal_further_oil
		cost = 6
		prerequisite = {
			focus = CAN_invest_resources
		}
		relative_position_id = CAN_crown_corporations
		x = -2
		y = 4

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_prairie_oil"
			add_tech_bonus = {
				name = CAN_prairie_oil
				bonus = 1
				uses = 1
				category = synth_resources
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = imperial_oil
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 470 decision = CAN_develop_alberta_oil_wells2 }
			activate_targeted_decision = { target = 469 decision = CAN_develop_sask_oil_wells }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_explore_the_north
		icon = GFX_goal_CAN_explore_north
		cost = 6
		prerequisite = {
			focus = CAN_prairie_oil
		}
		relative_position_id = CAN_crown_corporations
		x = -2
		y = 5

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_explore_the_north"
			add_tech_bonus = {
				name = CAN_explore_the_north
				bonus = 1
				uses = 1
				category = excavation_tech
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 682 decision = CAN_develop_ontario_aluminium_mines }
			activate_targeted_decision = { target = 471 decision = CAN_develop_yukon_oil_wells }
			activate_targeted_decision = { target = 332 decision = CAN_develop_labrador_iron_mines }
			activate_targeted_decision = { target = 332 decision = CAN_develop_quebec_chromium_mines }
		}
	}

	focus = {
		id = CAN_create_iedc
		icon = GFX_goal_CAN_iedc
		cost = 6
		prerequisite = {
			focus = CAN_crown_corporations
		}
		relative_position_id = CAN_crown_corporations
		x = 0
		y = 1

		available = {
			is_faction_leader = yes
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 1.5
				has_political_power < 0
			}
		}

		bypass = {
			is_faction_leader = no
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_create_iedc"
			add_political_power = 50
			country_event = entente.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_public_works
		icon = GFX_goal_generic_construction
		cost = 6
		prerequisite = {
			focus = CAN_create_iedc
		}
		relative_position_id = CAN_crown_corporations
		x = 0
		y = 2

		ai_will_do = { factor = 40 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_public_works"
			if = {
				limit = { has_idea = CAN_great_depression_2 }
				swap_ideas = {
					remove_idea = CAN_great_depression_2
					add_idea = CAN_great_depression_3
				}
			}
			add_ideas = CAN_work_camps
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = CAN_public_works
				bonus = 1
				uses = 1
				category = construction_tech
			}
			hidden_effect = {
				country_event = { id = canada.34 days = 300 random_days = 60 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_economic_recovery
		icon = GFX_JBS_goal_syria_coins
		cost = 6
		prerequisite = {
			focus = CAN_cp_rail_expansion
		}
		prerequisite = {
			focus = CAN_public_works
		}
		prerequisite = {
			focus = CAN_national_research_council
		}
		relative_position_id = CAN_crown_corporations
		x = 0
		y = 3

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 2
				has_political_power < 0
			}
		}

		bypass = {
			NOT = {
				has_idea = CAN_great_depression_1
				has_idea = CAN_great_depression_2
				has_idea = CAN_great_depression_3
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_economic_recovery"
			add_political_power = 100
			custom_effect_tooltip = tooltip_white_line
			CAN_improve_depression_idea = yes
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = general_motors_canada
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_national_housing_act
		icon = GFX_goal_generic_construct_public_housing
		cost = 6
		prerequisite = {
			focus = CAN_economic_recovery
		}
		relative_position_id = CAN_crown_corporations
		x = 0
		y = 4

		ai_will_do = { factor = 25 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_national_housing_act"
			if = {
				limit = { has_idea = CAN_work_camps }
				swap_ideas = {
					remove_idea = CAN_work_camps
					add_idea = CAN_work_camps_2
				}
			}
			464 = { increase_state_category_by_one_level = yes } #Nova Scotia
			465 = { increase_state_category_by_one_level = yes } #New Brunswick
			467 = { increase_state_category_by_one_level = yes } #Manitoba
			if = {
				limit = { owns_state = 468 }
				468 = { increase_state_category_by_one_level = yes } #Saint Lawrence
			}
			469 = { increase_state_category_by_one_level = yes } #Saskatchewan
			470 = { increase_state_category_by_one_level = yes } #Alberta
			473 = { increase_state_category_by_one_level = yes } #British Columbia
			739 = { increase_state_category_by_one_level = yes } #Ottawa
			if = {
				limit = { owns_state = 832 }
				832 = { increase_state_category_by_one_level = yes } #Quebec
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_polymer_corp
		icon = GFX_goal_generic_oil_refinery
		cost = 6
		available = {
			has_tech = synth_oil_experiments
		}
		prerequisite = {
			focus = CAN_national_housing_act
		}
		relative_position_id = CAN_crown_corporations
		x = 0
		y = 5

		ai_will_do = { factor = 20 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_polymer_corp"
			if = {
				limit = { NOT = { has_tech = synth_oil_experiments } } #for the tooltip
				effect_tooltip = {
					random_owned_controlled_state = {
						prioritize = { 276 }
						limit = {
							is_core_of = ROOT
							free_building_slots = { building = industrial_complex size > 1 include_locked = yes }
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = synthetic_refinery
							level = 2
							instant_build = yes
						}
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 276 }
					limit = {
						is_core_of = ROOT
						free_building_slots = { building = synthetic_refinery size > 1 include_locked = yes }
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_create_isac
		icon = GFX_goal_CAN_isac
		cost = 6
		prerequisite = {
			focus = CAN_crown_corporations
		}
		relative_position_id = CAN_crown_corporations
		x = 2
		y = 1

		available = {
			is_faction_leader = yes
		}

		ai_will_do = { factor = 100 }

		bypass = {
			is_faction_leader = no
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_create_isac"
			add_political_power = 50
			add_to_tech_sharing_group = entente_research
			set_global_flag = CAN_isac_created
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				add_to_tech_sharing_group = entente_research
				country_event = entente.15
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_national_research_council
		icon = GFX_goal_great_science
		cost = 6
		prerequisite = {
			focus = CAN_create_isac
		}
		relative_position_id = CAN_crown_corporations
		x = 2
		y = 2

		ai_will_do = { factor = 50 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_national_research_council"
			add_research_slot_until_five = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_found_cbc
		icon = GFX_goal_CAN_found_cbc
		cost = 6
		prerequisite = {
			focus = CAN_national_research_council
		}
		relative_position_id = CAN_crown_corporations
		x = 2
		y = 3

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_political_power < 0
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_found_cbc"
			add_political_power = 50
			add_ideas = CAN_cbc_idea
			if = {
				limit = { NOT = { has_tech = radio } }
				set_technology = { radio = 1 }
			}
			hidden_effect = {
				country_event = { id = canada.37 days = 180 }
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CAN_electronics_training
		icon = GFX_goal_electronics
		cost = 6
		prerequisite = {
			focus = CAN_found_cbc
		}
		relative_position_id = CAN_crown_corporations
		x = 2
		y = 4

		ai_will_do = { factor = 15 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_electronics_training"
			add_tech_bonus = {
				name = CAN_electronics_training
				bonus = 1
				uses = 3
				category = electronics
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = bell_canada
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_university_of_ottawa
		icon = GFX_goal_CAN_ottawa_uni
		cost = 6
		prerequisite = {
			focus = CAN_electronics_training
		}
		relative_position_id = CAN_crown_corporations
		x = 2
		y = 5

		ai_will_do = { factor = 15 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_university_of_ottawa"
			add_research_slot_until_five = yes
			add_ideas = CAN_uofottawa_idea
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_we_need_industry
		icon = GFX_goal_factory_complex
		cost = 6
		prerequisite = {
			focus = CAN_explore_the_north
		}
		prerequisite = {
			focus = CAN_polymer_corp
		}
		prerequisite = {
			focus = CAN_university_of_ottawa
		}
		mutually_exclusive = {
			focus = CAN_we_need_munitions
		}
		mutually_exclusive = {
			focus = CAN_we_need_ships
		}
		relative_position_id = CAN_crown_corporations
		x = -2
		y = 6

		ai_will_do = { factor = 20 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_we_need_industry"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_we_need_munitions
		icon = GFX_goal_industry_air
		cost = 6
		prerequisite = {
			focus = CAN_explore_the_north
		}
		prerequisite = {
			focus = CAN_polymer_corp
		}
		prerequisite = {
			focus = CAN_university_of_ottawa
		}
		mutually_exclusive = {
			focus = CAN_we_need_industry
		}
		mutually_exclusive = {
			focus = CAN_we_need_ships
		}
		relative_position_id = CAN_crown_corporations
		x = 0
		y = 6

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_war_with = ENG
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_we_need_munitions"
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_we_need_ships
		icon = GFX_goal_generic_navy_battleship
		cost = 6
		prerequisite = {
			focus = CAN_explore_the_north
		}
		prerequisite = {
			focus = CAN_polymer_corp
		}
		prerequisite = {
			focus = CAN_university_of_ottawa
		}
		mutually_exclusive = {
			focus = CAN_we_need_industry
		}
		mutually_exclusive = {
			focus = CAN_we_need_munitions
		}
		relative_position_id = CAN_crown_corporations
		x = 2
		y = 6

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_war_with = ENG
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_we_need_ships"
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	### AIR FORCE

	focus = {
		id = CAN_expand_air_force
		icon = GFX_goal_CAN_airforce
		prerequisite = {
			focus = CAN_kings_speech
		}
		cost = 5
		x = 16
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {		# Get that sweet XP to upgrade planes
				factor = 100
				has_tech = basic_small_airframe
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_expand_air_force"
			air_experience = 50
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = CAN_william_avery_bishop_air_chief
			country_event = { id = canada.38 days = 90 } # jck change
		}
		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = CAN_airspace_defense
		icon = GFX_focus_generic_air_defense2
		cost = 5
		prerequisite = {
			focus = CAN_expand_air_force
		}
		relative_position_id = CAN_expand_air_force
		x = -1
		y = 1

		available = {
			has_tech = radio
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					AND = {
						owns_state = 276
						NOT = { controls_state = 276 }
					}
					AND = {
						owns_state = 464
						NOT = { controls_state = 464 }
					}
				}
			}
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_airspace_defense"
			if = {
				limit = { has_tech = radio_detection }
				add_tech_bonus = {
					name = CAN_airspace_defense
					bonus = 1
					uses = 1
					category = radar_tech
				}
			}
			else = {
				set_technology = { radio_detection = 1 }
			}
			if = {
				limit = {
					276 = { is_owned_and_controlled_by = CAN }
				}
				276 = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					464 = { is_owned_and_controlled_by = CAN }
				}
				464 = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_imperial_air_training_plan
		icon = GFX_goal_generic_air_doctrine
		cost = 5
		prerequisite = {
			focus = CAN_airspace_defense
		}
		relative_position_id = CAN_expand_air_force
		x = -1
		y = 2

		available = {
			is_faction_leader = yes
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		bypass = {
			is_faction_leader = no
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_imperial_air_training_plan"
			add_ideas = CAN_air_training_plan_idea
			add_doctrine_cost_reduction = {
				name = CAN_imperial_air_training_plan
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			country_event = entente.210
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = CAN_royal_atlantic_aero_corp
		icon = GFX_focus_CZE_military_aeronautical_institute
		cost = 5
		prerequisite = {
			focus = CAN_imperial_air_training_plan
		}
		relative_position_id = CAN_expand_air_force
		x = -1
		y = 3

		available = {
			is_subject = no
			WIF = {
				is_in_faction_with = ROOT
				controls_all_owned_states = yes
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_political_power < 0
			}
		}

		bypass = {
			OR = {
				is_subject = yes
				WIF = { exists = no }
				WIF = { NOT = { is_in_faction_with = ROOT } }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_royal_atlantic_aero_corp"
			add_political_power = 50
			add_tech_bonus = {
				name = CAN_royal_atlantic_aero_corp
				bonus = 1
				uses = 1
				category = air_equipment
			}
			WIF = { country_event = entente.213 }
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = raac_canada
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_transcanada_airlines
		icon = GFX_goal_CAN_tca
		cost = 5
		prerequisite = {
			focus = CAN_expand_air_force
		}
		relative_position_id = CAN_expand_air_force
		x = 1
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_transcanada_airlines"
			add_ideas = CAN_aircanada_idea
		}
	}

	focus = {
		id = CAN_cfb_gander
		icon = GFX_goal_nested_fortifications
		cost = 5
		prerequisite = {
			focus = CAN_transcanada_airlines
		}
		relative_position_id = CAN_expand_air_force
		x = 1
		y = 2

		available = {
			332 = { is_owned_and_controlled_by = CAN }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 332 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_cfb_gander"
			332 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_cfb_north_bay
		icon = GFX_goal_nested_fortifications
		cost = 5
		prerequisite = {
			focus = CAN_cfb_gander
		}
		relative_position_id = CAN_expand_air_force
		x = 1
		y = 3

		available = {
			276 = { is_owned_and_controlled_by = CAN }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 276 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_cfb_north_bay"
			276 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_fighter_programme
		icon = GFX_goal_generic_air_fighter_new
		cost = 5
		prerequisite = {
			focus = CAN_cfb_north_bay
		}
		prerequisite = {
			focus = CAN_royal_atlantic_aero_corp
		}
		relative_position_id = CAN_expand_air_force
		x = -1
		y = 4

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_fighter_programme"
			add_tech_bonus = {
				name = CAN_fighter_programme
				bonus = 1
				uses = 2
				category = light_air
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = de_havilland_canada
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = canadair
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_bomber_programme
		icon = GFX_goal_generic_air_bomber_new
		cost = 5
		prerequisite = {
			focus = CAN_cfb_north_bay
		}
		prerequisite = {
			focus = CAN_royal_atlantic_aero_corp
		}
		relative_position_id = CAN_expand_air_force
		x = 1
		y = 4

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_bomber_programme"
			add_tech_bonus = {
				name = CAN_bomber_programme
				bonus = 1
				uses = 2
				category = medium_air
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = avro_canada
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_focus_on_rcaf
		icon = GFX_focus_eng_special_air_service
		cost = 6
		prerequisite = {
			focus = CAN_fighter_programme
		}
		prerequisite = {
			focus = CAN_bomber_programme
		}
		relative_position_id = CAN_expand_air_force
		x = 0
		y = 5

		available = {
			NOT = {
				has_idea = CAN_army_focus
				has_idea = CAN_navy_focus
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = no
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = CAN_upgrade_fleet }
			}
			modifier = {
				factor = 0
				NOT = {
					has_completed_focus = CAN_better_guns
					has_completed_focus = CAN_motor_industry
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_focus_on_rcaf"
			add_ideas = CAN_air_focus
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = CAN_jet_propulsion
		icon = GFX_goal_generic_air_jet_new
		cost = 6
		prerequisite = {
			focus = CAN_fighter_programme
		}
		prerequisite = {
			focus = CAN_bomber_programme
		}
		prerequisite = {
			focus = CAN_university_of_ottawa
		}
		relative_position_id = CAN_expand_air_force
		x = -1
		y = 6

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_jet_propulsion"
			add_tech_bonus = {
				name = CAN_jet_propulsion
				bonus = 1
				uses = 3
				category = rocketry
				category = jet_technology
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = orenda_engines
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_chalk_river_labs
		icon = GFX_goal_nuclear
		cost = 6
		prerequisite = {
			focus = CAN_fighter_programme
		}
		prerequisite = {
			focus = CAN_bomber_programme
		}
		prerequisite = {
			focus = CAN_university_of_ottawa
		}
		relative_position_id = CAN_expand_air_force
		x = 1
		y = 6

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_chalk_river_labs"
			add_tech_bonus = {
				name = CAN_chalk_river_labs
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	### NAVY

	focus = {
		id = CAN_overhaul_navy
		icon = GFX_goal_CAN_navy
		prerequisite = {
			focus = CAN_kings_speech
		}
		cost = 4
		x = 21
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_overhaul_navy"
			navy_experience = 50
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = GBR_james_somerville
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = GBR_louis_mountbatten
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_state_of_british_fleet
		icon = GFX_goal_USA_liberty_ships
		cost = 4
		prerequisite = {
			focus = CAN_overhaul_navy
		}
		relative_position_id = CAN_overhaul_navy
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_state_of_british_fleet"
			add_ideas = CAN_shipbuilding_plan_1
		}
	}

	focus = {
		id = CAN_cfb_halifax
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 5
		prerequisite = {
			focus = CAN_state_of_british_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = -1
		y = 2

		available = {
			464 = { is_owned_and_controlled_by = CAN }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 464 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_cfb_halifax"
			464 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 7361
					instant_build = yes
				}
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = halifax_shipyard
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_cfb_esquimalt
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 5
		prerequisite = {
			focus = CAN_cfb_halifax
		}
		relative_position_id = CAN_overhaul_navy
		x = -1
		y = 3

		available = {
			740 = { is_owned_and_controlled_by = CAN }
			473 = { is_owned_and_controlled_by = CAN }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				NOT = { owns_state = 740 }
				NOT = { owns_state = 473 }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_cfb_esquimalt"
			473 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			740 = {
				add_building_construction = {
					type = naval_base
					level = 2
					province = 7259
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_deal_with_admiralty
		icon = GFX_goal_navy_hat_ships
		cost = 5
		prerequisite = {
			focus = CAN_state_of_british_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = 1
		y = 2

		available = {
			is_subject = no
			NOT = { country_exists = GBR }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1938.6.1
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_subject = yes
				country_exists = GBR
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_deal_with_admiralty"
			add_ideas = CAN_exile_admiralty_idea
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = CAN_deal_with_admiralty
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_davie_shipbuilding
		icon = GFX_goal_generic_occupy_states_coastal
		cost = 5
		prerequisite = {
			focus = CAN_deal_with_admiralty
		}
		relative_position_id = CAN_overhaul_navy
		x = 1
		y = 3

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_davie_shipbuilding"
			add_ideas = CAN_davie_contract
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = davie_shipbuilding
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 466 decision = CAN_construct_dockyard_decision }
			activate_targeted_decision = { target = 331 decision = CAN_construct_dockyard_decision }
			activate_targeted_decision = { target = 740 decision = CAN_construct_dockyard_decision }
			activate_targeted_decision = { target = 473 decision = CAN_construct_dockyard_decision }
			activate_targeted_decision = { target = 464 decision = CAN_construct_dockyard_decision }
		}
	}

	focus = {
		id = CAN_naval_bomber_programme
		icon = GFX_goal_generic_air_naval_bomber2_new
		cost = 6
		prerequisite = {
			focus = CAN_cfb_north_bay
		}
		prerequisite = {
			focus = CAN_royal_atlantic_aero_corp
		}
		prerequisite = {
			focus = CAN_cfb_esquimalt
		}
		relative_position_id = CAN_overhaul_navy
		x = -2
		y = 4

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_naval_bomber_programme"
			add_tech_bonus = {
				name = CAN_naval_bomber_programme
				bonus = 1
				uses = 2
				category = naval_bomber
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = fairey_aviation_canada
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_new_officers
		icon = GFX_goal_generic_navy_doctrines_tactics
		cost = 6
		prerequisite = {
			focus = CAN_davie_shipbuilding
		}
		prerequisite = {
			focus = CAN_cfb_esquimalt
		}
		relative_position_id = CAN_overhaul_navy
		x = 2
		y = 4

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_officers"
			add_doctrine_cost_reduction = {
				name = CAN_new_officers
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_upgrade_fleet
		icon = GFX_goal_navy_decision
		cost = 5
		prerequisite = {
			focus = CAN_davie_shipbuilding
		}
		prerequisite = {
			focus = CAN_cfb_esquimalt
		}
		relative_position_id = CAN_overhaul_navy
		x = 0
		y = 4

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.6.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_upgrade_fleet"
			navy_experience = 50
			swap_ideas = {
				remove_idea = CAN_shipbuilding_plan_1
				add_idea = CAN_shipbuilding_plan_2
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = yarrow_shipbuilders
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS }
	}

	focus = {
		id = CAN_canadian_destroyers
		icon = GFX_focus_generic_destroyer
		cost = 6
		prerequisite = {
			focus = CAN_upgrade_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = -2
		y = 5

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_canadian_destroyers"
			add_tech_bonus = {
				name = CAN_canadian_destroyers
				bonus = 1
				uses = 2
				category = dd_tech
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_canadian_cruisers
		icon = GFX_focus_generic_cruiser2
		cost = 6
		prerequisite = {
			focus = CAN_upgrade_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = -1
		y = 6

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_canadian_cruisers"
			add_tech_bonus = {
				name = CAN_canadian_cruisers
				bonus = 1
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_canadian_carriers
		icon = GFX_goal_generic_navy_carrier
		cost = 6
		prerequisite = {
			focus = CAN_upgrade_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = 2
		y = 5

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_canadian_carriers"
			add_tech_bonus = {
				name = CAN_canadian_carriers
				bonus = 1
				uses = 2
				category = cv_tech
				category = naval_air
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_canadian_battleships
		icon = GFX_focus_generic_navy_battleship3alt
		cost = 6
		prerequisite = {
			focus = CAN_upgrade_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = 1
		y = 6

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_canadian_battleships"
			add_tech_bonus = {
				name = CAN_canadian_battleships
				bonus = 1
				uses = 2
				category = bb_tech
				category = bc_tech
				category = shbb_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_focus_on_rcn
		icon = GFX_goal_generic_wolf_pack
		cost = 6
		prerequisite = {
			focus = CAN_upgrade_fleet
		}
		relative_position_id = CAN_overhaul_navy
		x = 0
		y = 5

		available = {
			NOT = {
				has_idea = CAN_army_focus
				has_idea = CAN_air_focus
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					has_war_with = ENG
					has_war_with = GER
					has_war_with = JAP
				}
			}
			modifier = {
				factor = 0
				OR = {
					NOT = { has_completed_focus = CAN_fighter_programme }
					NOT = { has_completed_focus = CAN_bomber_programme }
				}
			}
			modifier = {
				factor = 0
				NOT = {
					has_completed_focus = CAN_better_guns
					has_completed_focus = CAN_motor_industry
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_focus_on_rcn"
			add_ideas = CAN_navy_focus
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	### ARMY

	focus = {
		id = CAN_address_army
		icon = GFX_goal_CAN_army
		prerequisite = {
			focus = CAN_kings_speech
		}
		cost = 5
		x = 28
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				country_exists = CSA
			}
			modifier = {
				factor = 3
				country_exists = CSA
				has_completed_focus = CAN_eyes_to_the_south
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_address_army"
			army_experience = 50
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = GBR_alan_brooke
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = CAN_preparations_for_war
		icon = GFX_goal_CAN_home_isles
		cost = 6
		prerequisite = {
			focus = CAN_address_army
		}
		relative_position_id = CAN_address_army
		x = -3
		y = 1

		available = {
			is_faction_leader = yes
			NOT = { country_exists = GBR }
			has_country_flag = CAN_C7_passed
			if = {
				limit = { has_war = yes }
				surrender_progress < 0.25
			}
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1939.1.1
			}
			modifier = {
				factor = 0
				NOT = {
					count_triggers = {
						amount = 2
						468 = { is_owned_and_controlled_by = CAN }
						331 = { is_owned_and_controlled_by = CAN }
						465 = { is_owned_and_controlled_by = CAN }
						464 = { is_owned_and_controlled_by = CAN }
					}
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_faction_leader = no
				country_exists = GBR
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_preparations_for_war"
			add_war_support = 0.10
			if = {
				limit = { 832 = { is_owned_and_controlled_by = CAN } }
				832 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 12149
						instant_build = yes
					}
				}
			}
			if = {
				limit = { 331 = { is_owned_and_controlled_by = CAN } }
				331 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 12505
						instant_build = yes
					}
				}
			}
			if = {
				limit = { 465 = { is_owned_and_controlled_by = CAN } }
				465 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 4285
						instant_build = yes
					}
				}
			}
			if = {
				limit = { 464 = { is_owned_and_controlled_by = CAN } }
				464 = {
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 7361
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = CAN_naval_world_tension_tt
			hidden_effect = {
				country_event = { id = canada.39 days = 30 }
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_rally_exiles
		icon = GFX_goal_CAN_lets_go_canada
		cost = 6
		prerequisite = {
			focus = CAN_preparations_for_war
		}
		relative_position_id = CAN_address_army
		x = -3
		y = 2

		available = {
			is_faction_leader = yes
			NOT = { country_exists = GBR }
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 2
				has_political_power < 0
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_faction_leader = no
				country_exists = GBR
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_rally_exiles"
			add_political_power = 100
			add_manpower = 75000
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_within_arms_reach
		icon = GFX_goal_generic_sea_focused_navy
		cost = 6
		prerequisite = {
			focus = CAN_rally_exiles
		}
		relative_position_id = CAN_address_army
		x = -3
		y = 3

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_faction_leader = no
				country_exists = GBR
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_within_arms_reach"
			if = {
				limit = {
					OR = {
						has_global_flag = ENG_CANIRE_protection
						has_global_flag = ENG_CANIRE_support
					}
					IRE = {
						exists = yes
						is_subject = no
						is_in_faction = no
						has_socialist_government = no
						NOT = { is_guaranteed_by = GER }
					}
				}
				unlock_decision_tooltip = CAN_approach_ireland
			}
			if = {
				limit = {
					ICE = {
						exists = yes
						is_subject = no
						is_in_faction = no
						has_socialist_government = no
						OR = {
							has_idea = ICE_failing_economy
							has_idea = ICE_recovering_economy_1
							has_idea = ICE_recovering_economy_2
							has_idea = ICE_recovering_economy_3
							has_idea = ICE_recovering_economy_4
							has_idea = ICE_recovering_economy_5
							has_idea = ICE_recovering_economy_6
						}
						NOT = {
							has_country_flag = ICE_expanded_fishing
							gives_military_access_to = ROOT
							has_war_with = ROOT
						}
					}
				}
				unlock_decision_tooltip = CAN_bailout_iceland
			}
			if = {
				limit = {
					country_exists = ENG
					ICE = {
						is_subject_of = ENG
						is_ai = yes
					}
				}
				unlock_decision_tooltip = CAN_fund_icelandic_resistance
			}
			add_ideas = CAN_invasion_plans_1
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = CAN_project_plough
		icon = GFX_goal_CAN_special_forces
		cost = 6
		prerequisite = {
			focus = CAN_within_arms_reach
		}
		relative_position_id = CAN_address_army
		x = -3
		y = 4

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war_with = ENG
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_project_plough"
			if = {
				limit = { NOT = { has_tech = marines } }
				set_technology = { marines = 1 }
			}
			add_tech_bonus = {
				name = CAN_project_plough
				bonus = 0.75
				uses = 2
				category = marine_tech
				category = tp_tech
			}
			hidden_effect = {
				if = {
					limit = { has_template = "Canadian Marine Division" }
					delete_unit_template_and_units = { division_template = "Canadian Marine Division" disband = yes } #no cheating
				}
			}
			custom_effect_tooltip = tooltip_white_line
			division_template = {
				name = "Canadian Marine Division"
				division_names_group = CAN_MAR_01
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 0 y = 2 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
					marine = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			random_owned_controlled_state = {
				limit = { is_in_home_area = yes }
				create_unit = {
					division = "division_template = \"Canadian Marine Division\" start_experience_factor = 0.4"
					owner = ROOT
					count = 3
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
					can_declare_war_on = ENG
				}
				unlock_decision_tooltip = CAN_attack_uob
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_special_branch
		icon = GFX_goal_CAN_special_branch
		cost = 6
		prerequisite = {
			focus = CAN_project_plough
		}
		relative_position_id = CAN_address_army
		x = -3
		y = 5

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war_with = ENG
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_special_branch"
			if = {
				limit = { has_dlc_lar = yes }
				if = {
					limit = { has_intelligence_agency = yes }
					if = {
						limit = { NOT = { has_done_agency_upgrade = upgrade_form_department } }
						upgrade_intelligence_agency = upgrade_form_department
					}
					if = {
						limit = { NOT = { has_done_agency_upgrade = upgrade_crypto_strength } }
						upgrade_intelligence_agency = upgrade_crypto_strength
					}
					if = {
						limit = { NOT = { has_done_agency_upgrade = upgrade_decryption_boost } }
						upgrade_intelligence_agency = upgrade_decryption_boost
					}
					if = {
						limit = {
							OR = {
								has_done_agency_upgrade = upgrade_form_department
								has_done_agency_upgrade = upgrade_crypto_strength
								has_done_agency_upgrade = upgrade_decryption_boost
							}
							NOT = { has_done_agency_upgrade = upgrade_commando_training }
						}
						upgrade_intelligence_agency = upgrade_commando_training
					}
					custom_effect_tooltip = tooltip_white_line
				}
				else_if = {
					limit = { has_intelligence_agency = no }
					create_intelligence_agency = yes
					upgrade_intelligence_agency = upgrade_commando_training
					upgrade_intelligence_agency = upgrade_decryption_boost
					custom_effect_tooltip = tooltip_white_line
				}
				add_ideas = CAN_special_branch_idea_lar
			}
			else = {
				add_political_power = 50
				add_ideas = CAN_special_branch_idea
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = CAN_contact_loyalists
		icon = GFX_goal_conspiracy
		cost = 6
		prerequisite = {
			focus = CAN_special_branch
		}
		relative_position_id = CAN_address_army
		x = -3
		y = 6

		available = {
			is_faction_leader = yes
			country_exists = ENG
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war_with = ENG
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_faction_leader = no
				NOT = { country_exists = ENG }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_contact_loyalists"
			swap_ideas = {
				remove_idea = CAN_invasion_plans_1
				add_idea = CAN_invasion_plans_2
			}
			if = {
				limit = { has_dlc_lar = yes }
				add_intel = {
					target = ENG
					civilian_intel = 2
					army_intel = 2
					navy_intel = 2
					airforce_intel = 2
				}
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = {
					OR = {
						ENG = { owns_state = 119 }
						IRE = {
							owns_state = 119
							has_socialist_government = yes
						}
					}
				}
				unlock_decision_tooltip = CAN_contact_irish_loyalists
			}
			unlock_decision_tooltip = CAN_contact_british_loyalists
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = CAN_fuller_plan
		icon = GFX_goal_CAN_fuller_plan
		cost = 6
		prerequisite = {
			focus = CAN_address_army
		}
		mutually_exclusive = {
			focus = CAN_vanier_plan
		}
		relative_position_id = CAN_address_army
		x = -1
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				country_exists = CSA
				has_completed_focus = CAN_eyes_to_the_south
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				country_exists = CSA
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_fuller_plan"
			add_doctrine_cost_reduction = {
				name = CAN_fuller_plan
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = GBR_john_frederick_charles_fuller
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_infantry_motorization
		icon = GFX_goal_generic_armored_cars
		cost = 6
		prerequisite = {
			focus = CAN_fuller_plan
		}
		relative_position_id = CAN_address_army
		x = -1
		y = 2

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_infantry_motorization"
			add_tech_bonus = {
				name = CAN_infantry_motorization
				bonus = 1
				uses = 2
				category = motorized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_bring_on_valentine
		icon = GFX_goal_generic_army_tanks2
		cost = 6
		prerequisite = {
			focus = CAN_infantry_motorization
		}
		relative_position_id = CAN_address_army
		x = -1
		y = 3

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_bring_on_valentine"
			add_tech_bonus = {
				name = CAN_bring_on_valentine
				bonus = 1
				uses = 2
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_motor_industry
		icon = GFX_goal_Automobile_Production
		cost = 6
		prerequisite = {
			focus = CAN_bring_on_valentine
		}
		relative_position_id = CAN_address_army
		x = -1
		y = 4

		available = {
			has_completed_focus = CAN_economic_recovery
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_motor_industry"
			add_ideas = CAN_motor_industry_idea
		}
	}

	focus = {
		id = CAN_vanier_plan
		icon = GFX_goal_CAN_vanier_plan
		cost = 6
		prerequisite = {
			focus = CAN_address_army
		}
		mutually_exclusive = {
			focus = CAN_fuller_plan
		}
		relative_position_id = CAN_address_army
		x = 1
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				country_exists = CSA
			}
			modifier = {
				factor = 3
				country_exists = CSA
				has_completed_focus = CAN_eyes_to_the_south
			}
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_vanier_plan"
			add_doctrine_cost_reduction = {
				name = CAN_fuller_plan
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = CAN_georges_vanier_theorist
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_organic_support_elements
		icon = GFX_goal_generic_build_tank
		cost = 6
		prerequisite = {
			focus = CAN_vanier_plan
		}
		relative_position_id = CAN_address_army
		x = 1
		y = 2

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_organic_support_elements"
			add_tech_bonus = {
				name = CAN_organic_support_elements
				bonus = 1
				uses = 3
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_expand_training
		icon = GFX_focus_generic_military_academy
		cost = 6
		prerequisite = {
			focus = CAN_organic_support_elements
		}
		relative_position_id = CAN_address_army
		x = 1
		y = 3

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_expand_training"
			add_ideas = CAN_adv_training_idea_1
			add_tech_bonus = {
				name = CAN_expand_training
				bonus = 1
				uses = 1
				category = mountaineers_tech
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_better_guns
		icon = GFX_goal_generic_small_arms
		cost = 6
		prerequisite = {
			focus = CAN_expand_training
		}
		relative_position_id = CAN_address_army
		x = 1
		y = 4

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_better_guns"
			swap_ideas = {
				remove_idea = CAN_adv_training_idea_1
				add_idea = CAN_adv_training_idea_2
			}
			add_tech_bonus = {
				name = CAN_better_guns
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_focus_on_army
		icon = GFX_goal_conscription
		cost = 6
		prerequisite = {
			focus = CAN_better_guns
			focus = CAN_motor_industry
		}
		relative_position_id = CAN_address_army
		x = 0
		y = 5

		available = {
			NOT = {
				has_idea = CAN_navy_focus
				has_idea = CAN_air_focus
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					has_war_with = ENG
					has_war_with = GER
					has_war_with = JAP
				}
			}
			modifier = {
				factor = 0
				OR = {
					NOT = { has_completed_focus = CAN_fighter_programme }
					NOT = { has_completed_focus = CAN_bomber_programme }
				}
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = CAN_upgrade_fleet }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_focus_on_army"
			add_ideas = CAN_army_focus
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_war_propaganda
		icon = GFX_goal_generic_propaganda
		cost = 6
		prerequisite = {
			focus = CAN_better_guns
			focus = CAN_motor_industry
		}
		prerequisite = {
			focus = CAN_special_branch
		}
		relative_position_id = CAN_address_army
		x = -1
		y = 6

		available = {
			has_idea = CAN_cbc_idea
			if = {
				limit = { is_subject = yes }
				has_war = yes
			}
			else = {
				OR = {
					has_war_with = INT
					has_war_with = GER
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power < 0
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_war_propaganda"
			swap_ideas = {
				remove_idea = CAN_cbc_idea
				add_idea = CAN_cbc_propaganda_idea
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CAN_new_warfare
		icon = GFX_goal_generic_army_doctrines
		cost = 6
		prerequisite = {
			focus = CAN_better_guns
			focus = CAN_motor_industry
		}
		prerequisite = {
			focus = CAN_self_propelled_guns
		}
		relative_position_id = CAN_address_army
		x = 1
		y = 6

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_warfare"
			add_doctrine_cost_reduction = {
				name = CAN_new_warfare
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_update_enfield
		icon = GFX_focus_secret_rearmament
		cost = 6
		prerequisite = {
			focus = CAN_address_army
		}
		relative_position_id = CAN_address_army
		x = 3
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				country_exists = CSA
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_update_enfield"
			add_tech_bonus = {
				name = CAN_update_enfield
				bonus = 1
				uses = 2
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_expand_artillery
		icon = GFX_goal_generic_army_artillery2
		cost = 6
		prerequisite = {
			focus = CAN_update_enfield
		}
		relative_position_id = CAN_address_army
		x = 3
		y = 2

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				country_exists = CSA
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1939.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_expand_artillery"
			add_tech_bonus = {
				name = CAN_expand_artillery
				bonus = 1
				uses = 2
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_new_munitions_plants
		icon = GFX_goal_generic_production
		cost = 6
		prerequisite = {
			focus = CAN_expand_artillery
		}
		relative_position_id = CAN_address_army
		x = 3
		y = 3

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				country_exists = CSA
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_munitions_plants"
			add_ideas = CAN_munitions_idea_1
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = canadian_car
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 466 decision = CAN_construct_1_mil_decision }
			activate_targeted_decision = { target = 467 decision = CAN_construct_1_mil_decision }
			activate_targeted_decision = { target = 465 decision = CAN_construct_1_mil_decision }
		}
	}

	focus = {
		id = CAN_foreign_contractors
		icon = GFX_goal_generic_foreign_investments
		cost = 6
		prerequisite = {
			focus = CAN_new_munitions_plants
		}
		relative_position_id = CAN_address_army
		x = 3
		y = 4

		available = {
			is_faction_leader = yes
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				country_exists = CSA
			}
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
		}

		bypass = {
			is_faction_leader = no
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_foreign_contractors"
			add_offsite_building = { type = arms_factory level = 1 }
			add_offsite_building = { type = dockyard level = 1 }
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = massey_harris
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_self_propelled_guns
		icon = GFX_goal_national_artillery
		cost = 6
		prerequisite = {
			focus = CAN_foreign_contractors
		}
		relative_position_id = CAN_address_army
		x = 3
		y = 5

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_self_propelled_guns"
			add_tech_bonus = {
				name = CAN_self_propelled_guns
				bonus = 1
				uses = 1
				category = artillery
			}
			add_tech_bonus = {
				name = CAN_self_propelled_guns
				bonus = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = CAN_munitions_industry
		icon = GFX_goal_Focus_Military_Mobilisation
		cost = 6
		prerequisite = {
			focus = CAN_self_propelled_guns
		}
		relative_position_id = CAN_address_army
		x = 3
		y = 6

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_munitions_industry"
			swap_ideas = {
				remove_idea = CAN_munitions_idea_1
				add_idea = CAN_munitions_idea_2
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 331 decision = CAN_construct_1_mil_decision }
			activate_targeted_decision = { target = 682 decision = CAN_construct_1_mil_decision }
		}
	}

	### AMERICAN CIVIL WAR
	focus = {
		id = CAN_americans_at_war
		icon = GFX_goal_CUB_America
		cost = 0

		x = 35
		y = 1

		available = {
			has_global_flag = USA_civil_war_begun_flag
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		bypass = {
			has_global_flag = USA_civil_war_begun_flag
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_americans_at_war"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = CAN_intervention_debate
		icon = GFX_goal_government_icon
		cost = 3
		prerequisite = {
			focus = CAN_americans_at_war
		}
		relative_position_id = CAN_americans_at_war
		x = -1
		y = 1

		available = {
			is_subject = no
			OR = {
				country_exists = USA
				country_exists = PSA
				country_exists = TEX
			}
			NOT = {
				has_global_flag = USA_civil_war_over_flag
				has_war_with = USA
				has_war_with = PSA
				has_war_with = TEX
				has_war_with = CSA
			}
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_intervention_debate"
			if = {
				limit = {
					is_ai = yes
					NFA = { is_ai = no }
					NOT = {
						has_game_rule = { rule = CAN_acw_support option = CAN_ACW_SUPPORT_USA }
						has_game_rule = { rule = CAN_acw_support option = CAN_ACW_SUPPORT_PSA }
						has_game_rule = { rule = CAN_acw_support option = CAN_ACW_SUPPORT_NEE }
						has_game_rule = { rule = CAN_acw_support option = CAN_ACW_SUPPORT_TEX }
						has_game_rule = { rule = CAN_acw_support option = CAN_ACW_SUPPORT_NONE }
					}
				}
				NFA = {
					country_event = canada.232
				}
			}
			else = {
				country_event = canada.201
			}
		}
	}

	focus = {
		id = CAN_eyes_to_the_south
		icon = GFX_goal_generic_more_territorial_claims
		cost = 5
		prerequisite = {
			focus = CAN_intervention_debate
		}
		relative_position_id = CAN_americans_at_war
		x = -1
		y = 2

		available = {
			is_subject = no
			hidden_trigger = {
				NOT = { has_country_flag = CAN_white_peaced_ACW }
			}
			OR = {
				country_exists = CSA
				custom_trigger_tooltip = {
					tooltip = CAN_will_intervene_ACW
					OR = {
						AND = {
							has_country_flag = CAN_supports_USA
							USA = {
								exists = yes
								OR = {
									has_war_with = CSA
									has_war_with = PSA
									has_war_with = TEX
								}
							}
						}
						AND = {
							has_country_flag = CAN_supports_PSA
							PSA = {
								exists = yes
								OR = {
									has_war_with = CSA
									has_war_with = USA
									has_war_with = TEX
								}
							}
						}
						AND = {
							has_country_flag = CAN_supports_TEX
							TEX = {
								exists = yes
								OR = {
									has_war_with = CSA
									has_war_with = USA
									has_war_with = PSA
								}
							}
						}
					}
				}
			}
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_eyes_to_the_south"
			add_ideas = CAN_war_of_1812_idea
			activate_targeted_decision = { target = 739 decision = CAN_reinforce_ottawa }
			activate_targeted_decision = { target = 832 decision = CAN_reinforce_montreal }
			activate_targeted_decision = { target = 473 decision = CAN_reinforce_vancouver }
			activate_targeted_decision = { target = 464 decision = CAN_reinforce_halifax }
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = CAN_crossing_the_border
		icon = GFX_goal_CAN_eyes_south
		cost = 5
		prerequisite = {
			focus = CAN_eyes_to_the_south
		}
		relative_position_id = CAN_americans_at_war
		x = -1
		y = 3

		available = {
			is_subject = no
			NOT = { has_idea = CAN_divided_nation }
			NOT = { has_country_flag = CAN_white_peaced_ACW }
			OR = {
				country_exists = CSA
				custom_trigger_tooltip = {
					tooltip = CAN_will_intervene_ACW
					OR = {
						AND = {
							has_country_flag = CAN_supports_USA
							USA = {
								exists = yes
								OR = {
									has_war_with = CSA
									has_war_with = PSA
									has_war_with = TEX
								}
							}
						}
						AND = {
							has_country_flag = CAN_supports_PSA
							PSA = {
								exists = yes
								OR = {
									has_war_with = CSA
									has_war_with = USA
									has_war_with = TEX
								}
							}
						}
						AND = {
							has_country_flag = CAN_supports_TEX
							TEX = {
								exists = yes
								OR = {
									has_war_with = CSA
									has_war_with = USA
									has_war_with = PSA
								}
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.5
				has_war = yes
				CSA = { num_of_controlled_states < 25 }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = CAN_address_army }
			}
			modifier = {
				factor = 0
				NOT = {
					has_completed_focus = CAN_fuller_plan
					has_completed_focus = CAN_vanier_plan
				}
			}
			modifier = {
				factor = 0
				has_idea = CAN_divided_nation
			}
			modifier = {
				factor = 0
				surrender_progress > 0
			}
			modifier = {
				factor = 0
				is_in_faction_with = NFA
				NFA = { surrender_progress > 0.10 }
			}
			modifier = {
				factor = 0
				has_war_with = ENG
				ENG = {
					any_owned_state = { is_controlled_by_ROOT_or_ally = yes }
				}
			}
			modifier = {
				factor = 0
				has_war_with = FRA
				FRA = {
					any_owned_state = { is_controlled_by_ROOT_or_ally = yes }
				}
			}
			modifier = {
				factor = 0
				NOT = {
					AND = {
						has_country_flag = CAN_supports_USA
						country_exists = USA
						USA = { surrender_progress < 0.50 }
						check_variable = { USA.num_controlled_states > 5 }
					}
					AND = {
						has_country_flag = CAN_supports_PSA
						country_exists = PSA
						PSA = { surrender_progress < 0.50 }
						check_variable = { PSA.num_controlled_states > 5 }
					}
					AND = {
						has_country_flag = CAN_supports_TEX
						country_exists = TEX
						TEX = { surrender_progress < 0.50 }
						check_variable = { PSA.num_controlled_states > 7 }
					}
					AND = {
						OR = {
							NOT = { has_country_flag = CAN_supports_USA }
							NOT = { country_exists = USA }
						}
						OR = {
							NOT = { has_country_flag = CAN_supports_PSA }
							NOT = { country_exists = PSA }
						}
						OR = {
							NOT = { has_country_flag = CAN_supports_TEX }
							NOT = { country_exists = TEX }
						}
						NOT = {
							AND = {
								has_global_flag = PSA_rockies_ceasefire
								is_in_faction_with = PSA
							}
						}
						NOT = {
							AND = {
								has_global_flag = PSA_rockies_ceasefire
								NOT = { has_country_flag = CAN_psa_refused_join }
								PSA = {
									exists = yes
									is_in_faction = no
									NOT = {
										has_war_with = CSA
										has_war_with = ROOT
									}
								}
							}
						}
						OR = {
							has_global_flag = USA_civil_war_over_flag
							is_in_faction_with = PSA
							AND = {
								set_temp_variable = { nonenemy_states = 0 }
								add_to_temp_variable = { nonenemy_states = TEX.num_controlled_states }
								add_to_temp_variable = { nonenemy_states = USA.num_controlled_states }
								add_to_temp_variable = { nonenemy_states = PSA.num_controlled_states }
								check_variable = { nonenemy_states > 6 }
							}
						}
					}
				}
			}
		}

		bypass = {
			NOT = {
				country_exists = CSA
				custom_trigger_tooltip = {
					tooltip = CAN_will_intervene_ACW
					OR = {
						AND = {
							has_country_flag = CAN_supports_USA
							USA = { exists = yes }
							OR = {
								country_exists = CSA
								country_exists = PSA
								country_exists = TEX
							}
						}
						AND = {
							has_country_flag = CAN_supports_PSA
							PSA = { exists = yes }
							OR = {
								country_exists = CSA
								country_exists = USA
								country_exists = TEX
							}
						}
						AND = {
							has_country_flag = CAN_supports_TEX
							TEX = { exists = yes }
							OR = {
								country_exists = CSA
								country_exists = USA
								country_exists = PSA
							}
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_crossing_the_border"
			add_war_support = 0.10
			if = {
				limit = { has_country_flag = CAN_supports_USA }
				unlock_decision_tooltip = CAN_intervene_in_ACW_USA
			}
			if = {
				limit = { has_country_flag = CAN_supports_PSA }
				unlock_decision_tooltip = CAN_intervene_in_ACW_PSA
			}
			if = {
				limit = { has_country_flag = CAN_supports_TEX }
				unlock_decision_tooltip = CAN_intervene_in_ACW_AUS
			}
			if = {
				limit = { country_exists = CSA }
				unlock_decision_tooltip = CAN_declare_war_on_CSA
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = CAN_quid_pro_quo
		icon = GFX_focus_chi_mission_to_the_us
		cost = 3
		prerequisite = {
			focus = CAN_crossing_the_border
		}
		relative_position_id = CAN_americans_at_war
		x = -1
		y = 4

		available = {
			has_game_rule = {
				rule = allowed_quid_pro_quo
				option = allowed
			}


			is_faction_leader = yes
			has_global_flag = USA_civil_war_over_flag
			has_country_flag = CAN_joined_the_ACW
			NOT = { has_country_flag = CAN_white_peaced_ACW }
			if = {
				limit = { NEE = { is_in_faction_with = ROOT } }
				NOT = { NEE = { has_country_flag = CAN_refused_rejoin_usa } }
			}
			else_if = {
				limit = { country_exists = NEE }
				NOT = { has_war_with = NEE }
			}
			OR = {
				USA = {
					exists = yes
					NOT = { has_war_with = ROOT }
					is_subject = no
					is_in_faction = no
					NOT = { has_country_flag = CAN_refused_new_england }
				}
				TEX = {
					exists = yes
					NOT = { has_war_with = ROOT }
					is_subject = no
					is_in_faction = no
					NOT = { has_country_flag = CAN_refused_new_england }
				}
				PSA = {
					exists = yes
					NOT = { has_war_with = ROOT }
					is_subject = no
					is_in_faction = no
					NOT = { has_country_flag = CAN_refused_new_england }
				}
			}
		}

		bypass = {
			OR = {
				AND = {
					has_global_flag = USA_civil_war_over_flag
					NOT = { has_country_flag = CAN_joined_the_ACW }
				}
				AND = {
					NOT = { country_exists = USA }
					NOT = { country_exists = PSA }
					NOT = { country_exists = TEX }
				}
			}
		}

		ai_will_do = { factor = 1000 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_quid_pro_quo"
			if = {
				limit = {
					any_owned_state = {
						NOT = { is_core_of = CAN }
						OR = {
							is_mainland_america = yes
							state = 463 #Alaska
							state = 629 #Hawaii
							state = 685 #Panama Canal
							state = 686 #Puerto Rico
						}
					}
				}
				custom_effect_tooltip = CAN_will_return_ACW_land
			}
			if = {
				limit = { country_exists = PSA }
				PSA = { country_event = canada.227 }
			}
			else_if = {
				limit = { country_exists = TEX }
				TEX = { country_event = canada.227 }
			}
			else = {
				USA = { country_event = canada.227 }
			}
		}
	}

	focus = {
		id = CAN_new_england_question
		icon = GFX_goal_flag_new_england
		cost = 3
		prerequisite = {
			focus = CAN_americans_at_war
		}
		relative_position_id = CAN_americans_at_war
		x = 1
		y = 1

		available = {
			is_subject = no
			owns_state = 932 #Massachusetts
			controls_all_owned_states = yes
			NOT = {
				has_global_flag = USA_civil_war_over_flag
				country_exists = NEE
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 10
				OR = {
					has_game_rule = { rule = CAN_acw_new_england option = CAN_ACW_NEW_ENGLAND_FORM }
					has_game_rule = { rule = CAN_acw_new_england option = CAN_ACW_NEW_ENGLAND_NOT_FORM }
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				country_exists = NEE
				has_country_flag = CAN_yankee_rebellion
				has_country_flag = CAN_not_seized_new_england
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_england_question"
			country_event = { id = newengland.5 days = 1 }
		}
	}

	focus = {
		id = CAN_new_home_of_the_free
		icon = GFX_goal_liberty
		cost = 5
		prerequisite = {
			focus = CAN_new_england_question
		}
		relative_position_id = CAN_americans_at_war
		x = 1
		y = 2

		available = {
			custom_trigger_tooltip = {
				tooltip = CAN_has_refugee_crisis
				OR = {
					has_idea = CAN_refugee_crisis_1
					has_idea = CAN_refugee_crisis_2
				}
			}
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		ai_will_do = { factor = 50 }

		available_if_capitulated = yes

		bypass = {
			has_global_flag = USA_civil_war_over_flag
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_home_of_the_free"
			country_event = canada.211
		}
	}

	focus = {
		id = CAN_american_recruitment
		icon = GFX_goal_CAN_nee_recruitment
		cost = 5
		prerequisite = {
			focus = CAN_new_home_of_the_free
		}
		relative_position_id = CAN_americans_at_war
		x = 1
		y = 3

		available = {
			is_subject = no
			OR = {
				owns_state = 932
				has_idea = CAN_refugee_crisis_help
				has_idea = CAN_refugee_crisis_sam
			}
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		bypass = {
			OR = {
				is_subject = yes
				has_global_flag = USA_civil_war_over_flag
				NOT = {
					owns_state = 932
					has_idea = CAN_refugee_crisis_1
					has_idea = CAN_refugee_crisis_2
					has_idea = CAN_refugee_crisis_help
					has_idea = CAN_refugee_crisis_sam
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_american_recruitment"
			custom_effect_tooltip = CAN_recruit_based_on_ref
			if = {
				limit = { is_ai = yes }
				add_political_power = 50
			}
			if = {
				limit = {
					OR = {
						has_idea = CAN_refugee_crisis_help
						has_idea = CAN_refugee_crisis_sam
					}
				}
				country_event = canada.213
			}
			activate_targeted_decision = { target = 932 decision = CAN_nee_recruitment1 }
			activate_targeted_decision = { target = 932 decision = CAN_develop_boston_synth }
			activate_targeted_decision = { target = 357 decision = CAN_develop_maine_steel }
		}
	}

	focus = {
		id = CAN_union_of_interests
		icon = GFX_goal_CAN_nee_union
		cost = 6
		prerequisite = {
			focus = CAN_american_recruitment
		}
		relative_position_id = CAN_americans_at_war
		x = 1
		y = 4

		available = {
			is_subject = no
			has_global_flag = USA_civil_war_over_flag
			has_country_flag = CAN_joined_the_ACW
			NEE = {
				exists = yes
				is_subject = no
				has_country_flag = NEE_united_america
				NOT = { has_war_with = CAN }
				OR = {
					is_in_faction = no
					is_in_faction_with = CAN
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { is_in_faction_with = NEE }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_union_of_interests"
			NEE = { country_event = canada.216 }
		}
	}

	### RETURN OF THE KING

	focus = {
		id = CAN_return_of_the_king
		icon = GFX_GBR_big_ben
		cost = 0
		x = 41
		y = 1

		available = {
			country_exists = GBR
		}

		ai_will_do = { factor = 100 }

		bypass = {
			country_exists = GBR
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_return_of_the_king"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = CAN_canadian_referendum
		icon = GFX_goal_CAN_referendum
		cost = 5
		prerequisite = {
			focus = CAN_return_of_the_king
		}
		mutually_exclusive = {
			focus = CAN_loyalty_to_the_empire
		}
		relative_position_id = CAN_return_of_the_king
		x = -1
		y = 1

		available = {
			is_subject = no
			has_war = no
			has_elected_government = yes
			country_exists = GBR
			OR = {
				has_country_flag = CAN_warmeasact_invoked
				custom_trigger_tooltip = {
					tooltip = CAN_had_low_king_pop
					check_variable = { CAN_was_king_popularity < 3 }
				}
			}
		}

		ai_will_do = { factor = 1 }
		cancel_if_invalid = no
		continue_if_invalid = yes

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus CAN_canadian_referendum"
			country_event = { id = canada.304 days = 1 } #Debate begins
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_canadian_referendum"
			country_event = canada.315
		}
	}

	focus = {
		id = CAN_canadian_constitution
		icon = GFX_goal_constitutional_guarantees
		cost = 6
		prerequisite = {
			focus = CAN_canadian_referendum
		}
		relative_position_id = CAN_return_of_the_king
		x = -2
		y = 2

		available = {
			CAN_is_dominion = no
			is_subject = no
		}

		ai_will_do = { factor = 1 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_canadian_constitution"
			country_event = canada.321
		}
	}

	focus = {
		id = CAN_new_path
		icon = GFX_focus_generic_eagle
		cost = 6
		prerequisite = {
			focus = CAN_canadian_constitution
		}
		relative_position_id = CAN_return_of_the_king
		x = -2
		y = 3

		available = {
			CAN_is_dominion = no
			is_subject = no
		}

		ai_will_do = { factor = 1 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_path"
			country_event = canada.322
			add_ideas = CAN_new_nationalism
			hidden_effect = {
				every_other_country = {
					limit = { is_in_faction_with = ROOT }
					add_opinion_modifier = { target = ROOT modifier = faction_traitor }
					add_opinion_modifier = { target = ROOT modifier = faction_traitor_trade }
				}
				news_event = canada.323
				if = {
					limit = { tag = ENT }
					CAN_find_entente_leader = yes
					CAN_transfer_entente_leader = yes
				}
				CAN_remove_from_iedc = yes
			}
			custom_effect_tooltip = tooltip_white_line
			set_temp_variable = { tag_to_release = GBR }
			every_owned_state = {
				limit = {
					is_claim_or_core_or_ambition_of_ROOT = no
					NOT = {
						is_on_continent = north_america
						is_on_continent = central_america
						is_on_continent = south_america
					}
				}
				transfer_state_without_overriding_occupation = yes
			}
			every_subject_country = {
				limit = { is_in_americas = no }
				get_current_government_type = yes
				overlord = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
				GBR = { puppet = PREV }
				restore_previous_government_type = yes
			}
			leave_faction = yes
			separate_peace_all_wars = yes
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = CAN_loyalty_to_the_empire
		icon = GFX_goal_british_monarchy
		cost = 6
		prerequisite = {
			focus = CAN_return_of_the_king
		}
		mutually_exclusive = {
			focus = CAN_canadian_referendum
		}
		relative_position_id = CAN_return_of_the_king
		x = 1
		y = 1

		available = {
			is_subject = no
			has_war = no
			has_elected_government = yes
			is_in_faction_with = GBR
		}

		ai_will_do = { factor = 1 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_loyalty_to_the_empire"
			set_country_flag = CAN_loyal_to_britain
			add_political_power = 100
			add_stability = 0.05
			add_opinion_modifier = { target = GBR modifier = KR_close_allies }
			reverse_add_opinion_modifier = { target = GBR modifier = KR_close_allies }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CAN_british_investments
		icon = GFX_goal_bag_of_money
		cost = 6
		prerequisite = {
			focus = CAN_loyalty_to_the_empire
			focus = CAN_canadian_referendum
		}
		relative_position_id = CAN_return_of_the_king
		x = 2
		y = 2

		available = {
			CAN_is_dominion = yes
			is_subject = no
			has_elected_government = yes
			is_in_faction_with = GBR
		}

		ai_will_do = { factor = 1 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_british_investments"
			add_offsite_building = { type = industrial_complex level = 2 }
			GBR = { country_event = canada.326 }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_god_save_canada
		icon = GFX_goal_national_mobilization
		cost = 6
		prerequisite = {
			focus = CAN_british_investments
		}
		relative_position_id = CAN_return_of_the_king
		x = 2
		y = 3

		available = {
			CAN_is_dominion = yes
			is_subject = no
			has_elected_government = yes
			is_in_faction_with = GBR
			GBR = { has_idea = CAN_canadian_investments_1 }
		}

		ai_will_do = { factor = 1 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_god_save_canada"
			add_offsite_building = { type = dockyard level = 2 }
			GBR = {
				swap_ideas = {
					remove_idea = CAN_canadian_investments_1
					add_idea = CAN_canadian_investments_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = CAN_new_canadian_officers
		icon = GFX_goal_COS_War
		cost = 6
		prerequisite = {
			focus = CAN_canadian_referendum
			focus = CAN_loyalty_to_the_empire
		}
		relative_position_id = CAN_return_of_the_king
		x = 0
		y = 2

		available = {
			is_subject = no
		}

		ai_will_do = { factor = 1 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_new_canadian_officers"
			country_event = canada.327
		}
	}

	focus = {
		id = CAN_filling_the_void
		icon = GFX_focus_generic_support_the_left_right
		cost = 6
		prerequisite = {
			focus = CAN_new_canadian_officers
		}
		relative_position_id = CAN_return_of_the_king
		x = 0
		y = 3

		available = {
			is_subject = no
		}

		ai_will_do = { factor = 1 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_filling_the_void"
			add_stability = 0.05
			add_ideas = CAN_victors_over_syndicalism
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = CAN_true_north
		icon = GFX_goal_support_democracy
		cost = 6
		prerequisite = {
			focus = CAN_filling_the_void
		}
		relative_position_id = CAN_return_of_the_king
		x = 0
		y = 4

		available = {
			is_subject = no
		}

		ai_will_do = { factor = 1 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CAN_true_north"
			add_political_power = 200
			add_stability = 0.10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}
}

